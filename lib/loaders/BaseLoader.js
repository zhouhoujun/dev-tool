"use strict";function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,n){for(var o=0;o<n.length;o++){var t=n[o];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(n,o,t){return o&&e(n.prototype,o),t&&e(n,t),n}}(),development_core_1=require("development-core"),dynamicTaskDefine_1=require("./dynamicTaskDefine"),BaseLoader=function(){function e(n){_classCallCheck(this,e),this.option=n}return _createClass(e,[{key:"load",value:function(e){var n=this;return this.getTaskDefine().then(function(o){if(o.loadTasks)return o.loadTasks(e);var t=n.getTaskModule();return e.findTasks(t)}).catch(function(e){console.error(e)})}},{key:"loadConfg",value:function(e,n){var o=this;return this.getTaskDefine().then(function(t){return t.loadConfig(e,o.option,n)}).then(function(e){return o.bindingConfig(e)}).catch(function(e){console.error(e)})}},{key:"bindingConfig",value:function(e){return e=development_core_1.bindingConfig(e)}},{key:"getTaskDefine",value:function(){var e=this;return new Promise(function(n,o){var t=e.option.loader;t.taskDefine?n(t.taskDefine):!function(){var o=e.getConfigModule();development_core_1.findTaskDefineInModule(o).then(function(e){n(e)}).catch(function(e){n(dynamicTaskDefine_1.default(o))})}()})}},{key:"getConfigModule",value:function(){var e=this.option.loader;return e.configModule||e.module}},{key:"getTaskModule",value:function(){var e=this.option.loader;return e.taskModule||e.module}}]),e}();exports.BaseLoader=BaseLoader;
//# sourceMappingURL=../sourcemaps/loaders/BaseLoader.js.map
