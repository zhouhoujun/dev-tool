"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),BaseLoader=function(){function e(t){_classCallCheck(this,e),this.option=t}return _createClass(e,[{key:"load",value:function(e){var t=this;return this.contextDef.then(function(n){return t.loadTasks(e,n)}).catch(function(e){console.error(e)})}},{key:"loadContext",value:function(e){var t=this;return this.contextDef.then(function(n){return n.getContext({option:t.option,env:e})}).catch(function(e){console.error(e)})}},{key:"loadTasks",value:function(e,t){if(t.tasks)return t.tasks(e);var n=this.getTaskModule();return e.findTasks(n)}},{key:"getConfigModule",value:function(){var e=this.option.loader;return e.configModule||e.module}},{key:"getTaskModule",value:function(){var e=this.option.loader;return e.taskModule||e.module}},{key:"contextDef",get:function(){return this._contextDef||(this._contextDef=Promise.resolve(this.getContextDefine())),this._contextDef}}]),e}();exports.BaseLoader=BaseLoader;
//# sourceMappingURL=../sourcemaps/loaders/BaseLoader.js.map
